
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LLM Output Viz</title>
  <style>
    pre {
      max-width: 25vw;
      overflow: auto;
    }
    h3 {
      background-color: lightcyan;
      margin-top: 12px;
    }
    #grid {
      /* margin: 1%; */
      .correct h3 {
        background-color: lightgreen;
      }
    }
    #grid div {
      margin-right: 2%;
    }
  </style>
</head>
<body>
  <button id="wordwrap">Toggle Word Wrap</button> <strong>PHP git diff data extraction and classification task for Minecraft</strong>
  <div id="grid" style='display: flex; flex-direction: row;'>
    <div>
      <h3>System Prompt</h3>
      <pre id="psys">SYS PROMPT</pre>
    </div>
    <div>
      <h3>User Prompt</h3>
      <pre id="pusr">USR PROMPT</pre>
    </div>
    <div><h3>GPT-3.5 Turbo 16k</h3><pre id="prespgpt3_5turbo16k">MODEL OUTPUT</pre></div>
<div class="correct"><h3>GPT-4 Turbo Preview</h3><pre id="prespgpt4turbo">MODEL OUTPUT</pre></div>
<div><h3>Gemini 1.0 Pro</h3><pre id="prespgemini1_0pro">MODEL OUTPUT</pre></div>
<div class="correct"><h3>Gemini 1.5 Pro</h3><pre id="prespgemini1_5pro">MODEL OUTPUT</pre></div>
  </div>

  <script>
    function toggleWordWrap () {
      const $pre = document.querySelectorAll('pre');
      for (const $p of $pre) {
        $p.style.whiteSpace = $p.style.whiteSpace === 'pre-wrap' ? 'pre' : 'pre-wrap';
      }
    }
    wordwrap.onclick = toggleWordWrap;
    toggleWordWrap();

    const $psys = document.getElementById('psys');
    const $pusr = document.getElementById('pusr');

    const data = {"models":[["GPT-3.5 Turbo 16k","gpt3_5turbo16k"],["GPT-4 Turbo Preview","gpt4turbo"],["Gemini 1.0 Pro","gemini1_0pro"],["Gemini 1.5 Pro","gemini1_5pro"]],"outputs":{"gpt3_5turbo16k":"{\n  \"metadata_changed\": {\n    \"version\": { \"old\": \"1.20.50\", \"new\": \"1.20.60\", \"source\": [\"src/ProtocolInfo.php\"] },\n    \"protocol\": { \"old\": 630, \"new\": 649, \"source\": [\"src/ProtocolInfo.php\"] }\n  },\n  \"packets_removed\": {\n    \"RemoveEntityPacket\": { \"source\": [\"src/RemoveEntityPacket.php\", \"src/PacketPool.php\"] }\n  },\n  \"packets_added\": {\n    \"ServerPlayerPostMovePositionPacket\": { \"source\": [\"src/ServerPlayerPostMovePositionPacket.php\"] }\n  },\n  \"unclassified_serializer_changes\": {\n    \"src/types/CompressionAlgorithm.php\": \"new value\",\n    \"src/types/LevelEvent.php\": \"new values\",\n    \"src/types/ParticleIds.php\": \"new values\",\n    \"src/types/PlayerAuthInputFlags.php\": \"new value\",\n    \"src/types/PlayerListEntry.php\": \"new value\",\n    \"src/types/hud/HudElement.php\": \"new file\",\n    \"src/types/hud/HudVisibility.php\": \"new file\"\n  }\n}","gpt4turbo":"```json\n{\n  \"metadata_changed\": {\n    \"version\": {\n      \"old\": \"1.20.50\",\n      \"new\": \"1.20.60\",\n      \"source\": [\"src/ProtocolInfo.php\"]\n    },\n    \"protocol\": {\n      \"old\": 630,\n      \"new\": 649,\n      \"source\": [\"src/ProtocolInfo.php\"]\n    }\n  },\n  \"packets_removed\": {\n    \"RemoveEntityPacket\": {\n      \"source\": [\"src/RemoveEntityPacket.php\", \"src/PacketPool.php\"]\n    }\n  },\n  \"packets_added\": {\n    \"ServerPlayerPostMovePositionPacket\": {\n      \"source\": [\"src/ServerPlayerPostMovePositionPacket.php\"]\n    },\n    \"SetHudPacket\": {\n      \"source\": [\"src/SetHudPacket.php\"]\n    }\n  },\n  \"packets_modified\": {\n    \"LevelChunkPacket\": {\n      \"source\": [\"src/LevelChunkPacket.php\"]\n    },\n    \"PlayerAuthInputPacket\": {\n      \"source\": [\"src/PlayerAuthInputPacket.php\"]\n    },\n    \"PlayerListPacket\": {\n      \"source\": [\"src/PlayerListPacket.php\"]\n    }\n  },\n  \"unclassified_serializer_changes\": {\n    \"src/types/CompressionAlgorithm.php\": \"new value\",\n    \"src/types/LevelEvent.php\": \"new values\",\n    \"src/types/ParticleIds.php\": \"new values\",\n    \"src/types/PlayerAuthInputFlags.php\": \"new value\",\n    \"src/types/PlayerListEntry.php\": \"modified entry\",\n    \"src/types/hud/HudElement.php\": \"new file\",\n    \"src/types/hud/HudVisibility.php\": \"new file\"\n  }\n}\n```","gemini1_0pro":"```json\n{\n  \"metadata_changed\": {\n    \"version\": { \"old\": \"1.20.50\", \"new\": \"1.20.60\", \"source\": [\"src/ProtocolInfo.php\"] },\n    \"protocol\": { \"old\": 630, \"new\": 649, \"source\": [\"src/ProtocolInfo.php\"] }\n  },\n  \"packets_removed\": {\n    \"AddEntityPacket\": { \"source\": [\"src/AddEntityPacket.php\", \"src/PacketPool.php\"] },\n    \"RemoveEntityPacket\": { \"source\": [\"src/RemoveEntityPacket.php\", \"src/PacketPool.php\"] }\n  },\n  \"packets_added\": {\n    \"ServerPlayerPostMovePositionPacket\": { \"source\": [\"src/AddEntityPacket.php\"] },\n    \"SetHudPacket\": { \"source\": [\"src/SetHudPacket.php\"] }\n  },\n  \"packets_modified\": [],\n  \"unclassified_serializer_changes\": {\n    \"src/types/CompressionAlgorithm.php\": \"new value\",\n    \"src/types/LevelEvent.php\": \"new values\",\n    \"src/types/ParticleIds.php\": \"new values\",\n    \"src/types/PlayerAuthInputFlags.php\": \"new value\",\n    \"src/types/PlayerListEntry.php\": \"new values\",\n    \"src/types/hud/HudElement.php\": \"new file\",\n    \"src/types/hud/HudVisibility.php\": \"new file\"\n  }\n}\n```","gemini1_5pro":"## JSON Output for the provided Git Diff:\n\n```json\n{\n  \"metadata_changed\": {\n    \"version\": {\n      \"old\": \"1.20.50\",\n      \"new\": \"1.20.60\",\n      \"source\": [\"src/ProtocolInfo.php\"]\n    },\n    \"protocol\": {\n      \"old\": 630,\n      \"new\": 649,\n      \"source\": [\"src/ProtocolInfo.php\"]\n    }\n  },\n  \"packets_removed\": {\n    \"RemoveEntityPacket\": {\n      \"source\": [\"src/RemoveEntityPacket.php\"]\n    }\n  },\n  \"packets_added\": {\n    \"ServerPlayerPostMovePositionPacket\": {\n      \"source\": [\"src/AddEntityPacket.php\", \"src/PacketPool.php\"]\n    },\n    \"SetHudPacket\": {\n      \"source\": [\"src/SetHudPacket.php\", \"src/PacketPool.php\"]\n    }\n  },\n  \"packets_modified\": {\n    \"LevelChunkPacket\": {\n      \"source\": [\"src/LevelChunkPacket.php\"]\n    },\n    \"PlayerAuthInputPacket\": {\n      \"source\": [\"src/PlayerAuthInputPacket.php\"]\n    },\n    \"PlayerListPacket\": {\n      \"source\": [\"src/PlayerListPacket.php\"]\n    }\n  },\n  \"unclassified_serializer_changes\": {\n    \"src/types/CompressionAlgorithm.php\": \"new value\",\n    \"src/types/LevelEvent.php\": \"new values\",\n    \"src/types/ParticleIds.php\": \"new value, order changed\",\n    \"src/types/PlayerAuthInputFlags.php\": \"new value\",\n    \"src/types/PlayerListEntry.php\": \"new field\",\n    \"src/types/hud/HudElement.php\": \"new file\",\n    \"src/types/hud/HudVisibility.php\": \"new file\"\n  }\n}\n```\n\nThis JSON output summarizes the changes introduced in the provided Git Diff, categorized by their impact on metadata, packets, and serializer-related elements. \n"},"system":"PocketMine is an open source server software for Minecraft Bedrock Edition that implements the Minecraft Bedrock Edition protocol, which allows for clients and servers to communicate with custom binary encoded packets. Just recently, PocketMine was updated for Minecraft version 1.20.50, and the protocol changes to support that are shown below in a git diff. Your prompt is to take a git diff like this from a user, and convert it into machine-readable JSON describing the changes and their sources.\r\n\r\nThe expected output schema for the JSON looks like this:\r\n```ts\r\ntype Source = string[] // A list of strings with paths of files related to the change, usually only one file, unless you determine that multiple files are related to the same change\r\ninterface {\r\n  // Metadata changes, unrelated to packets\r\n  metadata_changed: {\r\n    version?: { old: string, new: string, source: Source },\r\n    protocol?: { old: number, new: number, source: Source }\r\n  },\r\n  // packets_removed, packets_added, and packets_modified are all objects with packet names as keys\r\n  packets_removed: {\r\n    [packet_name: string]: { source: Source }\r\n  },\r\n  packets_added: {\r\n    [packet_name: string]: { source: Source }\r\n  },\r\n  // if a new field to a packet was added or removed, or some metadata related to a packet changed (such as addition of a field to an enum), it should be included here\r\n  packets_modified: {\r\n    [packet_name: string]: { source: Source }\r\n  },\r\n  // If a serializer- or protocol-related change happened that you are unsure of how to classify (ie you don't know what packets are affected), they should be included here\r\n  // The key is the source file, and the value is a string describing the changes\r\n  unclassified_serializer_changes: {\r\n    [source_file: string]: string\r\n  }\r\n}\r\n```\r\n\r\nFor example, given the following diff:\r\n```diff\r\ndiff --git a/src/CraftingEventPacket.php b/src/CraftingEventPacket.php\r\ndeleted file mode 100644\r\nindex 633e4dc9..00000000\r\n--- a/src/CraftingEventPacket.php\r\n+++ /dev/null\r\n@@ -1,83 +0,0 @@\r\n-<?php\r\n-namespace pocketmine\\network\\mcpe\\protocol;\r\n-use pocketmine\\network\\mcpe\\protocol\\serializer\\PacketSerializer;\r\n-use pocketmine\\network\\mcpe\\protocol\\types\\inventory\\ItemStackWrapper;\r\n-use Ramsey\\Uuid\\UuidInterface;\r\n-use function count;\r\n-class CraftingEventPacket extends DataPacket implements ServerboundPacket{\r\n-\tconst NETWORK_ID = ProtocolInfo::CRAFTING_EVENT_PACKET;\r\n-\tint $windowId;\r\n-\tint $windowType;\r\n-\tUuidInterface $recipeUUID;\r\n-\tarray $input = [];\r\n-\tarray $output = [];\r\n-\tstatic function create(int $windowId, int $windowType, UuidInterface $recipeUUID, array $input, array $output) : self{\r\n-\t\t$result = new self;\r\n-\t\t$result->windowId = $windowId;\r\n-\t\t$result->windowType = $windowType;\r\n-\t\t$result->recipeUUID = $recipeUUID;\r\n-\t\t$result->input = $input;\r\n-\t\t$result->output = $output;\r\n-\t\treturn $result;\r\n-\t}\r\n-\tfunction decodePayload(PacketSerializer $in) : void{\r\n-\t\t$this->windowId = $in->getByte();\r\n-\t\t$this->windowType = $in->getVarInt();\r\n-\t\t$this->recipeUUID = $in->getUUID();\r\n-\t\t$size = $in->getUnsignedVarInt();\r\n-\t\tfor($i = 0; $i < $size and $i < 128; ++$i){\r\n-\t\t\t$this->input[] = ItemStackWrapper::read($in);\r\n-\t\t}\r\n-\t\t$size = $in->getUnsignedVarInt();\r\n-\t\tfor($i = 0; $i < $size and $i < 128; ++$i){\r\n-\t\t\t$this->output[] = ItemStackWrapper::read($in);\r\n-\t\t}\r\n-\t}\r\n-\tfunction encodePayload(PacketSerializer $out) : void{\r\n-\t\t$out->putByte($this->windowId);\r\n-\t\t$out->putVarInt($this->windowType);\r\n-\t\t$out->putUUID($this->recipeUUID);\r\n-\t\t$out->putUnsignedVarInt(count($this->input));\r\n-\t\tforeach($this->input as $item){\r\n-\t\t\t$item->write($out);\r\n-\t\t}\r\n-\t\t$out->putUnsignedVarInt(count($this->output));\r\n-\t\tforeach($this->output as $item){\r\n-\t\t\t$item->write($out);\r\n-\t\t}\r\n-\t}\r\n-\tfunction handle(PacketHandlerInterface $handler) : bool{\r\n-\t\treturn $handler->handleCraftingEvent($this);\r\n-\t}\r\n-}\r\ndiff --git a/src/PacketHandlerDefaultImplTrait.php b/src/PacketHandlerDefaultImplTrait.php\r\nindex 967a066c..65aaee74 100644\r\n--- a/src/PacketHandlerDefaultImplTrait.php\r\n+++ b/src/PacketHandlerDefaultImplTrait.php\r\n@@ -222,10 +222,6 @@ function handleCraftingData(CraftingDataPacket $packet) : bool{\r\n     return false;\r\n   }\r\n-\tfunction handleCraftingEvent(CraftingEventPacket $packet) : bool{\r\n-\t\treturn false;\r\n-\t}\r\n   function handleGuiDataPickItem(GuiDataPickItemPacket $packet) : bool{\r\n     return false;\r\n   }\r\n@@ -805,4 +801,12 @@ function handleAgentAnimation(AgentAnimationPacket $packet) : bool{\r\n   function handleRefreshEntitlements(RefreshEntitlementsPacket $packet) : bool{\r\n     return false;\r\n   }\r\n+\tfunction handlePlayerToggleCrafterSlotRequest(PlayerToggleCrafterSlotRequestPacket $packet) : bool{\r\n+\t\treturn false;\r\n+\t}\r\n+\tfunction handleSetPlayerInventoryOptions(SetPlayerInventoryOptionsPacket $packet) : bool{\r\n+\t\treturn false;\r\n+\t}\r\n }\r\ndiff --git a/src/PacketHandlerInterface.php b/src/PacketHandlerInterface.php\r\nindex 4eb7916d..cb862b5a 100644\r\n--- a/src/PacketHandlerInterface.php\r\n+++ b/src/PacketHandlerInterface.php\r\n@@ -118,8 +118,6 @@ function handleContainerSetData(ContainerSetDataPacket $packet) : bool;\r\n   function handleCraftingData(CraftingDataPacket $packet) : bool;\r\n-\tfunction handleCraftingEvent(CraftingEventPacket $packet) : bool;\r\n   function handleGuiDataPickItem(GuiDataPickItemPacket $packet) : bool;\r\n   function handleBlockActorData(BlockActorDataPacket $packet) : bool;\r\n@@ -409,4 +407,8 @@ function handleOpenSign(OpenSignPacket $packet) : bool;\r\n   function handleAgentAnimation(AgentAnimationPacket $packet) : bool;\r\n   function handleRefreshEntitlements(RefreshEntitlementsPacket $packet) : bool;\r\n+\tfunction handlePlayerToggleCrafterSlotRequest(PlayerToggleCrafterSlotRequestPacket $packet) : bool;\r\n+\tfunction handleSetPlayerInventoryOptions(SetPlayerInventoryOptionsPacket $packet) : bool;\r\n }\r\ndiff --git a/src/PacketPool.php b/src/PacketPool.php\r\nindex 91723d7b..0cc082e5 100644\r\n--- a/src/PacketPool.php\r\n+++ b/src/PacketPool.php\r\n@@ -83,7 +83,6 @@ function __construct(){\r\n     $this->registerPacket(new InventorySlotPacket());\r\n     $this->registerPacket(new ContainerSetDataPacket());\r\n     $this->registerPacket(new CraftingDataPacket());\r\n-\t\t$this->registerPacket(new CraftingEventPacket());\r\n     $this->registerPacket(new GuiDataPickItemPacket());\r\n     $this->registerPacket(new BlockActorDataPacket());\r\n     $this->registerPacket(new PlayerInputPacket());\r\n@@ -229,6 +228,8 @@ function __construct(){\r\n     $this->registerPacket(new OpenSignPacket());\r\n     $this->registerPacket(new AgentAnimationPacket());\r\n     $this->registerPacket(new RefreshEntitlementsPacket());\r\n+\t\t$this->registerPacket(new PlayerToggleCrafterSlotRequestPacket());\r\n+\t\t$this->registerPacket(new SetPlayerInventoryOptionsPacket());\r\n   }\r\n   function registerPacket(Packet $packet) : void{\r\ndiff --git a/src/PlayerToggleCrafterSlotRequestPacket.php b/src/PlayerToggleCrafterSlotRequestPacket.php\r\nnew file mode 100644\r\nindex 00000000..e8e55fe4\r\n--- /dev/null\r\n+++ b/src/PlayerToggleCrafterSlotRequestPacket.php\r\n@@ -0,0 +1,64 @@\r\n+<?php\r\n+namespace pocketmine\\network\\mcpe\\protocol;\r\n+use pocketmine\\network\\mcpe\\protocol\\serializer\\PacketSerializer;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\BlockPosition;\r\n+class PlayerToggleCrafterSlotRequestPacket extends DataPacket implements ServerboundPacket{\r\n+\tconst NETWORK_ID = ProtocolInfo::PLAYER_TOGGLE_CRAFTER_SLOT_REQUEST_PACKET;\r\n+\tBlockPosition $position;\r\n+\tint $slot;\r\n+\tbool $disabled;\r\n+\tstatic function create(BlockPosition $position, int $slot, bool $disabled) : self{\r\n+\t\t$result = new self;\r\n+\t\t$result->position = $position;\r\n+\t\t$result->slot = $slot;\r\n+\t\t$result->disabled = $disabled;\r\n+\t\treturn $result;\r\n+\t}\r\n+\tfunction getPosition() : BlockPosition{ return $this->position; }\r\n+\tfunction getSlot() : int{ return $this->slot; }\r\n+\tfunction isDisabled() : bool{ return $this->disabled; }\r\n+\tfunction decodePayload(PacketSerializer $in) : void{\r\n+\t\t$x = $in->getLInt();\r\n+\t\t$y = $in->getLInt();\r\n+\t\t$z = $in->getLInt();\r\n+\t\t$this->position = new BlockPosition($x, $y, $z);\r\n+\t\t$this->slot = $in->getByte();\r\n+\t\t$this->disabled = $in->getBool();\r\n+\t}\r\n+\tfunction encodePayload(PacketSerializer $out) : void{\r\n+\t\t$out->putLInt($this->position->getX());\r\n+\t\t$out->putLInt($this->position->getY());\r\n+\t\t$out->putLInt($this->position->getZ());\r\n+\t\t$out->putByte($this->slot);\r\n+\t\t$out->putBool($this->disabled);\r\n+\t}\r\n+\tfunction handle(PacketHandlerInterface $handler) : bool{\r\n+\t\treturn $handler->handlePlayerToggleCrafterSlotRequest($this);\r\n+\t}\r\n+}\r\ndiff --git a/src/ProtocolInfo.php b/src/ProtocolInfo.php\r\nindex eae63e82..a62d1bfc 100644\r\n--- a/src/ProtocolInfo.php\r\n+++ b/src/ProtocolInfo.php\r\n@@ -32,11 +32,11 @@ function __construct(){\r\n    */\r\n-\tconst CURRENT_PROTOCOL = 622;\r\n+\tconst CURRENT_PROTOCOL = 630;\r\n-\tconst MINECRAFT_VERSION = 'v1.20.40';\r\n+\tconst MINECRAFT_VERSION = 'v1.20.50';\r\n-\tconst MINECRAFT_VERSION_NETWORK = '1.20.40';\r\n+\tconst MINECRAFT_VERSION_NETWORK = '1.20.50';\r\n   const LOGIN_PACKET = 0x01;\r\n   const PLAY_STATUS_PACKET = 0x02;\r\n@@ -90,7 +90,7 @@ function __construct(){\r\n   const INVENTORY_SLOT_PACKET = 0x32;\r\n   const CONTAINER_SET_DATA_PACKET = 0x33;\r\n   const CRAFTING_DATA_PACKET = 0x34;\r\n-\tconst CRAFTING_EVENT_PACKET = 0x35;\r\n   const GUI_DATA_PICK_ITEM_PACKET = 0x36;\r\n   const BLOCK_ACTOR_DATA_PACKET = 0x38;\r\n@@ -243,5 +243,7 @@ function __construct(){\r\n   const OPEN_SIGN_PACKET = 0x12f;\r\n   const AGENT_ANIMATION_PACKET = 0x130;\r\n   const REFRESH_ENTITLEMENTS_PACKET = 0x131;\r\n+\tconst PLAYER_TOGGLE_CRAFTER_SLOT_REQUEST_PACKET = 0x132;\r\n+\tconst SET_PLAYER_INVENTORY_OPTIONS_PACKET = 0x133;\r\n }\r\ndiff --git a/src/SetPlayerInventoryOptionsPacket.php b/src/SetPlayerInventoryOptionsPacket.php\r\nnew file mode 100644\r\nindex 00000000..7fab1cd6\r\n--- /dev/null\r\n+++ b/src/SetPlayerInventoryOptionsPacket.php\r\n@@ -0,0 +1,73 @@\r\n+<?php\r\n+namespace pocketmine\\network\\mcpe\\protocol;\r\n+use pocketmine\\network\\mcpe\\protocol\\serializer\\PacketSerializer;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\inventory\\InventoryLayout;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\inventory\\InventoryLeftTab;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\inventory\\InventoryRightTab;\r\n+class SetPlayerInventoryOptionsPacket extends DataPacket implements ClientboundPacket, ServerboundPacket{\r\n+\tconst NETWORK_ID = ProtocolInfo::SET_PLAYER_INVENTORY_OPTIONS_PACKET;\r\n+\tInventoryLeftTab $leftTab;\r\n+\tInventoryRightTab $rightTab;\r\n+\tbool $filtering;\r\n+\tInventoryLayout $inventoryLayout;\r\n+\tInventoryLayout $craftingLayout;\r\n+\tstatic function create(InventoryLeftTab $leftTab, InventoryRightTab $rightTab, bool $filtering, InventoryLayout $inventoryLayout, InventoryLayout $craftingLayout) : self{\r\n+\t\t$result = new self;\r\n+\t\t$result->leftTab = $leftTab;\r\n+\t\t$result->rightTab = $rightTab;\r\n+\t\t$result->filtering = $filtering;\r\n+\t\t$result->inventoryLayout = $inventoryLayout;\r\n+\t\t$result->craftingLayout = $craftingLayout;\r\n+\t\treturn $result;\r\n+\t}\r\n+\tfunction getLeftTab() : InventoryLeftTab{ return $this->leftTab; }\r\n+\tfunction getRightTab() : InventoryRightTab{ return $this->rightTab; }\r\n+\tfunction isFiltering() : bool{ return $this->filtering; }\r\n+\tfunction getInventoryLayout() : InventoryLayout{ return $this->inventoryLayout; }\r\n+\tfunction getCraftingLayout() : InventoryLayout{ return $this->craftingLayout; }\r\n+\tfunction decodePayload(PacketSerializer $in) : void{\r\n+\t\t$this->leftTab = InventoryLeftTab::fromPacket($in->getVarInt());\r\n+\t\t$this->rightTab = InventoryRightTab::fromPacket($in->getVarInt());\r\n+\t\t$this->filtering = $in->getBool();\r\n+\t\t$this->inventoryLayout = InventoryLayout::fromPacket($in->getVarInt());\r\n+\t\t$this->craftingLayout = InventoryLayout::fromPacket($in->getVarInt());\r\n+\t}\r\n+\tfunction encodePayload(PacketSerializer $out) : void{\r\n+\t\t$out->putVarInt($this->leftTab->value);\r\n+\t\t$out->putVarInt($this->rightTab->value);\r\n+\t\t$out->putBool($this->filtering);\r\n+\t\t$out->putVarInt($this->inventoryLayout->value);\r\n+\t\t$out->putVarInt($this->craftingLayout->value);\r\n+\t}\r\n+\tfunction handle(PacketHandlerInterface $handler) : bool{\r\n+\t\treturn $handler->handleSetPlayerInventoryOptions($this);\r\n+\t}\r\n+}\r\ndiff --git a/src/ShowStoreOfferPacket.php b/src/ShowStoreOfferPacket.php\r\nindex ea46d767..62ae95de 100644\r\n--- a/src/ShowStoreOfferPacket.php\r\n+++ b/src/ShowStoreOfferPacket.php\r\n@@ -15,12 +15,13 @@\r\n namespace pocketmine\\network\\mcpe\\protocol;\r\n use pocketmine\\network\\mcpe\\protocol\\serializer\\PacketSerializer;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\ShowStoreOfferRedirectType;\r\n class ShowStoreOfferPacket extends DataPacket implements ClientboundPacket{\r\n   const NETWORK_ID = ProtocolInfo::SHOW_STORE_OFFER_PACKET;\r\n   string $offerId;\r\n-\tbool $showAll;\r\n+\tShowStoreOfferRedirectType $redirectType;\r\n+namespace pocketmine\\network\\mcpe\\protocol\\types;\r\n+use pocketmine\\network\\mcpe\\protocol\\PacketDecodeException;\r\n+trait PacketIntEnumTrait{\r\n+\tstatic function fromPacket(int $value) : self{\r\n+\t\t$enum = self::tryFrom($value);\r\n+\t\tif($enum === null){\r\n+\t\t\tthrow new PacketDecodeException(\"Invalid raw value $value for \" . static::class);\r\n+\t\t}\r\n+\t\treturn $enum;\r\n+\t}\r\n+}\r\ndiff --git a/src/types/ParticleIds.php b/src/types/ParticleIds.php\r\nindex d3ba4f93..1e272813 100644\r\n--- a/src/types/ParticleIds.php\r\n+++ b/src/types/ParticleIds.php\r\n@@ -100,5 +100,11 @@ function __construct(){\r\n   const SPORE_BLOSSOM_AMBIENT = 79;\r\n   const WAX = 80;\r\n   const ELECTRIC_SPARK = 81;\r\n+\tconst SHRIEK = 82;\r\n+\tconst SCULK_SOUL = 83;\r\n+\tconst SONIC_EXPLOSION = 84;\r\n+\tconst BRUSH_DUST = 85;\r\n+\tconst CHERRY_LEAVES = 86;\r\n+\tconst DUST_PLUME = 87;\r\n+\tconst WHITE_SMOKE = 88;\r\n }\r\ndiff --git a/src/types/ShowStoreOfferRedirectType.php b/src/types/ShowStoreOfferRedirectType.php\r\nnew file mode 100644\r\nindex 00000000..b3407acf\r\n--- /dev/null\r\n+++ b/src/types/ShowStoreOfferRedirectType.php\r\n@@ -0,0 +1,32 @@\r\n+<?php\r\n+namespace pocketmine\\network\\mcpe\\protocol\\types;\r\n+enum ShowStoreOfferRedirectType : int{\r\n+\tuse PacketIntEnumTrait;\r\n+\tcase MARKETPLACE = 0;\r\n+\tcase DRESSING_ROOM = 1;\r\n+\tcase THIRD_PARTY_SERVER_PAGE = 2;\r\n+}\r\ndiff --git a/src/types/inventory/ContainerUIIds.php b/src/types/inventory/ContainerUIIds.php\r\nindex ab82d7eb..baef072e 100644\r\n--- a/src/types/inventory/ContainerUIIds.php\r\n+++ b/src/types/inventory/ContainerUIIds.php\r\n@@ -82,4 +82,5 @@ function __construct(){\r\n   const CURSOR = 59;\r\n   const CREATED_OUTPUT = 60;\r\n   const SMITHING_TABLE_TEMPLATE = 61;\r\n+\tconst CRAFTER = 62;\r\n }\r\ndiff --git a/src/types/inventory/InventoryLayout.php b/src/types/inventory/InventoryLayout.php\r\nnew file mode 100644\r\nindex 00000000..1c11e939\r\n--- /dev/null\r\n+++ b/src/types/inventory/InventoryLayout.php\r\n@@ -0,0 +1,26 @@\r\n+<?php\r\n+namespace pocketmine\\network\\mcpe\\protocol\\types\\inventory;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\PacketIntEnumTrait;\r\n+enum InventoryLayout : int{\r\n+\tuse PacketIntEnumTrait;\r\n+\tcase NONE = 0;\r\n+\tcase SURVIVAL = 1;\r\n+\tcase RECIPE_BOOK = 2;\r\n+\tcase CREATIVE = 3;\r\n+}\r\ndiff --git a/src/types/inventory/InventoryLeftTab.php b/src/types/inventory/InventoryLeftTab.php\r\nnew file mode 100644\r\nindex 00000000..fb46b070\r\n--- /dev/null\r\n+++ b/src/types/inventory/InventoryLeftTab.php\r\n@@ -0,0 +1,29 @@\r\n+<?php\r\n+namespace pocketmine\\network\\mcpe\\protocol\\types\\inventory;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\PacketIntEnumTrait;\r\n+enum InventoryLeftTab : int{\r\n+\tuse PacketIntEnumTrait;\r\n+\tcase NONE = 0;\r\n+\tcase CONSTRUCTION = 1;\r\n+\tcase EQUIPMENT = 2;\r\n+\tcase ITEMS = 3;\r\n+\tcase NATURE = 4;\r\n+\tcase SEARCH = 5;\r\n+\tcase SURVIVAL = 6;\r\n+}\r\ndiff --git a/src/types/inventory/InventoryRightTab.php b/src/types/inventory/InventoryRightTab.php\r\nnew file mode 100644\r\nindex 00000000..18b33cdd\r\n--- /dev/null\r\n+++ b/src/types/inventory/InventoryRightTab.php\r\n@@ -0,0 +1,26 @@\r\n+<?php\r\n+namespace pocketmine\\network\\mcpe\\protocol\\types\\inventory;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\PacketIntEnumTrait;\r\n+enum InventoryRightTab : int{\r\n+\tuse PacketIntEnumTrait;\r\n+\tcase NONE = 0;\r\n+\tcase FULL_SCREEN = 1;\r\n+\tcase CRAFTING = 2;\r\n+\tcase ARMOR = 3;\r\n+}\r\ndiff --git a/src/types/inventory/WindowTypes.php b/src/types/inventory/WindowTypes.php\r\nindex 3129ed02..feea84e5 100644\r\n--- a/src/types/inventory/WindowTypes.php\r\n+++ b/src/types/inventory/WindowTypes.php\r\n@@ -57,5 +57,7 @@ function __construct(){\r\n   const HUD = 31;\r\n   const JIGSAW_EDITOR = 32;\r\n   const SMITHING_TABLE = 33;\r\n+\tconst CHEST_BOAT = 34;\r\n+\tconst DECORATED_POT = 35;\r\n+\tconst CRAFTER = 36;\r\n }\r\n```\r\n\r\nYour output should look like this:\r\n```json\r\n{\r\n  \"metadata_changed\": {\r\n    \"version\": { \"old\": \"1.20.40\", \"new\": \"1.20.50\", \"source\": [\"src/ProtocolInfo.php\"] },\r\n    \"protocol\": { \"old\": 622, \"new\": 630, \"source\": [\"src/ProtocolInfo.php\"] }\r\n  },\r\n  \"packets_removed\": {\r\n    \"CraftingEventPacket\": { \"source\": [\"src/CraftingEventPacket.php\", \"src/PacketPool.php\"] }\r\n  },\r\n  \"packets_added\": {\r\n    \"PlayerToggleCrafterSlotRequestPacket\": { \"source\": [\"src/PlayerToggleCrafterSlotRequestPacket.php\"] },\r\n    \"SetPlayerInventoryOptionsPacket\": { \"source\": [\"src/SetPlayerInventoryOptionsPacket.php\"] }\r\n  },\r\n  \"packets_modified\": {\r\n    \"ShowStoreOfferPacket\": { \"source\": [\"src/ShowStoreOfferPacket.php\"] }\r\n  },\r\n  \"unclassified_serializer_changes\": {\r\n    \"src/types/ShowStoreOfferRedirectType.php\": \"new file\",\r\n    \"src/types/inventory/InventoryLayout.php\": \"new file\",\r\n    \"src/types/inventory/InventoryLeftTab.php\": \"new file\",\r\n    \"src/types/inventory/InventoryRightTab.php\": \"new file\",\r\n    \"src/types/inventory/WindowTypes.php\": \"new values\",\r\n    \"src/types/inventory/ContainerUIIds.php\": \"new value\",\r\n    \"src/types/ParticleIds.php\": \"new values\"\r\n  }\r\n}\r\n```","user":"Please convert the following git diff into JSON per your prompt:\r\n```diff\r\ndiff --git a/src/LevelChunkPacket.php b/src/LevelChunkPacket.php\r\nindex 6c1dbc1a..d2824b41 100644\r\n--- a/src/LevelChunkPacket.php\r\n+++ b/src/LevelChunkPacket.php\r\n@@ -16,6 +16,7 @@\r\n use pocketmine\\network\\mcpe\\protocol\\serializer\\PacketSerializer;\r\n use pocketmine\\network\\mcpe\\protocol\\types\\ChunkPosition;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\DimensionIds;\r\n use pocketmine\\utils\\Limits;\r\n use function count;\r\n use const PHP_INT_MAX;\r\n@@ -37,6 +38,8 @@ class LevelChunkPacket extends DataPacket implements ClientboundPacket{\r\n   const MAX_BLOB_HASHES = 64;\r\n   ChunkPosition $chunkPosition;\r\n+\tint $dimensionId;\r\n   int $subChunkCount;\r\n   bool $clientSubChunkRequestsEnabled;\r\n@@ -46,10 +49,12 @@ class LevelChunkPacket extends DataPacket implements ClientboundPacket{\r\n-\tstatic function create(ChunkPosition $chunkPosition, int $subChunkCount, bool $clientSubChunkRequestsEnabled, ?array $usedBlobHashes, string $extraPayload) : self{\r\n+\tstatic function create(ChunkPosition $chunkPosition, int $dimensionId, int $subChunkCount, bool $clientSubChunkRequestsEnabled, ?array $usedBlobHashes, string $extraPayload) : self{\r\n     $result = new self;\r\n     $result->chunkPosition = $chunkPosition;\r\n+\t\t$result->dimensionId = $dimensionId;\r\n     $result->subChunkCount = $subChunkCount;\r\n     $result->clientSubChunkRequestsEnabled = $clientSubChunkRequestsEnabled;\r\n     $result->usedBlobHashes = $usedBlobHashes;\r\n@@ -59,6 +64,8 @@ static function create(ChunkPosition $chunkPosition, int $subChunkCount,\r\n   function getChunkPosition() : ChunkPosition{ return $this->chunkPosition; }\r\n+\tfunction getDimensionId() : int{ return $this->dimensionId; }\r\n   function getSubChunkCount() : int{\r\n     return $this->subChunkCount;\r\n   }\r\n@@ -84,6 +91,7 @@ function getExtraPayload() : string{\r\n   function decodePayload(PacketSerializer $in) : void{\r\n     $this->chunkPosition = ChunkPosition::read($in);\r\n+\t\t$this->dimensionId = $in->getVarInt();\r\n     $subChunkCountButNotReally = $in->getUnsignedVarInt();\r\n     if($subChunkCountButNotReally === self::CLIENT_REQUEST_FULL_COLUMN_FAKE_COUNT){\r\n@@ -113,6 +121,7 @@ function decodePayload(PacketSerializer $in) : void{\r\n   function encodePayload(PacketSerializer $out) : void{\r\n     $this->chunkPosition->write($out);\r\n+\t\t$out->putVarInt($this->dimensionId);\r\n     if($this->clientSubChunkRequestsEnabled){\r\n       if($this->subChunkCount === PHP_INT_MAX){\r\ndiff --git a/src/PacketHandlerDefaultImplTrait.php b/src/PacketHandlerDefaultImplTrait.php\r\nindex 65aaee74..d524eaee 100644\r\n--- a/src/PacketHandlerDefaultImplTrait.php\r\n+++ b/src/PacketHandlerDefaultImplTrait.php\r\n@@ -82,6 +82,10 @@ function handleAddItemActor(AddItemActorPacket $packet) : bool{\r\n     return false;\r\n   }\r\n+\tfunction handleServerPlayerPostMovePosition(ServerPlayerPostMovePositionPacket $packet) : bool{\r\n+\t\treturn false;\r\n+\t}\r\n   function handleTakeItemActor(TakeItemActorPacket $packet) : bool{\r\n     return false;\r\n   }\r\n@@ -498,14 +502,6 @@ function handleLecternUpdate(LecternUpdatePacket $packet) : bool{\r\n     return false;\r\n   }\r\n-\tfunction handleAddEntity(AddEntityPacket $packet) : bool{\r\n-\t\treturn false;\r\n-\t}\r\n-\tfunction handleRemoveEntity(RemoveEntityPacket $packet) : bool{\r\n-\t\treturn false;\r\n-\t}\r\n   function handleClientCacheStatus(ClientCacheStatusPacket $packet) : bool{\r\n     return false;\r\n   }\r\n@@ -809,4 +805,8 @@ function handlePlayerToggleCrafterSlotRequest(PlayerToggleCrafterSlotRequ\r\n   function handleSetPlayerInventoryOptions(SetPlayerInventoryOptionsPacket $packet) : bool{\r\n     return false;\r\n   }\r\n+\tfunction handleSetHud(SetHudPacket $packet) : bool{\r\n+\t\treturn false;\r\n+\t}\r\n }\r\ndiff --git a/src/PacketHandlerInterface.php b/src/PacketHandlerInterface.php\r\nindex cb862b5a..8818d3c6 100644\r\n--- a/src/PacketHandlerInterface.php\r\n+++ b/src/PacketHandlerInterface.php\r\n@@ -48,6 +48,8 @@ function handleRemoveActor(RemoveActorPacket $packet) : bool;\r\n   function handleAddItemActor(AddItemActorPacket $packet) : bool;\r\n+\tfunction handleServerPlayerPostMovePosition(ServerPlayerPostMovePositionPacket $packet) : bool;\r\n   function handleTakeItemActor(TakeItemActorPacket $packet) : bool;\r\n   function handleMoveActorAbsolute(MoveActorAbsolutePacket $packet) : bool;\r\n@@ -256,10 +258,6 @@ function handleLevelEventGeneric(LevelEventGenericPacket $packet) : bool;\r\n   function handleLecternUpdate(LecternUpdatePacket $packet) : bool;\r\n-\tfunction handleAddEntity(AddEntityPacket $packet) : bool;\r\n-\tfunction handleRemoveEntity(RemoveEntityPacket $packet) : bool;\r\n   function handleClientCacheStatus(ClientCacheStatusPacket $packet) : bool;\r\n   function handleOnScreenTextureAnimation(OnScreenTextureAnimationPacket $packet) : bool;\r\n@@ -411,4 +409,6 @@ function handleRefreshEntitlements(RefreshEntitlementsPacket $packet) : b\r\n   function handlePlayerToggleCrafterSlotRequest(PlayerToggleCrafterSlotRequestPacket $packet) : bool;\r\n   function handleSetPlayerInventoryOptions(SetPlayerInventoryOptionsPacket $packet) : bool;\r\n+\tfunction handleSetHud(SetHudPacket $packet) : bool;\r\n }\r\ndiff --git a/src/PacketPool.php b/src/PacketPool.php\r\nindex 0cc082e5..06e491f0 100644\r\n--- a/src/PacketPool.php\r\n+++ b/src/PacketPool.php\r\n@@ -48,6 +48,7 @@ function __construct(){\r\n     $this->registerPacket(new AddActorPacket());\r\n     $this->registerPacket(new RemoveActorPacket());\r\n     $this->registerPacket(new AddItemActorPacket());\r\n+\t\t$this->registerPacket(new ServerPlayerPostMovePositionPacket());\r\n     $this->registerPacket(new TakeItemActorPacket());\r\n     $this->registerPacket(new MoveActorAbsolutePacket());\r\n     $this->registerPacket(new MovePlayerPacket());\r\n@@ -152,8 +153,6 @@ function __construct(){\r\n     $this->registerPacket(new LevelSoundEventPacket());\r\n     $this->registerPacket(new LevelEventGenericPacket());\r\n     $this->registerPacket(new LecternUpdatePacket());\r\n-\t\t$this->registerPacket(new AddEntityPacket());\r\n-\t\t$this->registerPacket(new RemoveEntityPacket());\r\n     $this->registerPacket(new ClientCacheStatusPacket());\r\n     $this->registerPacket(new OnScreenTextureAnimationPacket());\r\n     $this->registerPacket(new MapCreateLockedCopyPacket());\r\n@@ -230,6 +229,7 @@ function __construct(){\r\n     $this->registerPacket(new RefreshEntitlementsPacket());\r\n     $this->registerPacket(new PlayerToggleCrafterSlotRequestPacket());\r\n     $this->registerPacket(new SetPlayerInventoryOptionsPacket());\r\n+\t\t$this->registerPacket(new SetHudPacket());\r\n   }\r\n   function registerPacket(Packet $packet) : void{\r\ndiff --git a/src/PlayerAuthInputPacket.php b/src/PlayerAuthInputPacket.php\r\nindex e01cad50..91969443 100644\r\n--- a/src/PlayerAuthInputPacket.php\r\n+++ b/src/PlayerAuthInputPacket.php\r\n@@ -49,6 +49,7 @@ class PlayerAuthInputPacket extends DataPacket implements ServerboundPacket{\r\n   ?ItemStackRequest $itemStackRequest = null;\r\n   ?array $blockActions = null;\r\n+\t?int $clientPredictedVehicleActorUniqueId = null;\r\n   float $analogMoveVecX;\r\n   float $analogMoveVecZ;\r\n@@ -77,6 +78,7 @@ static function create(\r\n     ?ItemInteractionData $itemInteractionData,\r\n     ?ItemStackRequest $itemStackRequest,\r\n     ?array $blockActions,\r\n+\t\t?int $clientPredictedVehicleActorUniqueId,\r\n     float $analogMoveVecX,\r\n     float $analogMoveVecZ\r\n   ) : self{\r\n@@ -102,6 +104,9 @@ static function create(\r\n     if($blockActions !== null){\r\n       $result->inputFlags |= 1 << PlayerAuthInputFlags::PERFORM_BLOCK_ACTIONS;\r\n     }\r\n+\t\tif($clientPredictedVehicleActorUniqueId !== null){\r\n+\t\t\t$result->inputFlags |= 1 << PlayerAuthInputFlags::IN_CLIENT_PREDICTED_VEHICLE;\r\n+\t\t}\r\n     $result->inputMode = $inputMode;\r\n     $result->playMode = $playMode;\r\n@@ -114,6 +119,7 @@ static function create(\r\n     $result->itemInteractionData = $itemInteractionData;\r\n     $result->itemStackRequest = $itemStackRequest;\r\n     $result->blockActions = $blockActions;\r\n+\t\t$result->clientPredictedVehicleActorUniqueId = $clientPredictedVehicleActorUniqueId;\r\n     $result->analogMoveVecX = $analogMoveVecX;\r\n     $result->analogMoveVecZ = $analogMoveVecZ;\r\n     return $result;\r\n@@ -198,6 +204,8 @@ function getBlockActions() : ?array{\r\n     return $this->blockActions;\r\n   }\r\n+\tfunction getClientPredictedVehicleActorUniqueId() : ?int{ return $this->clientPredictedVehicleActorUniqueId; }\r\n   function getAnalogMoveVecX() : float{ return $this->analogMoveVecX; }\r\n   function getAnalogMoveVecZ() : float{ return $this->analogMoveVecZ; }\r\n@@ -240,6 +248,9 @@ function decodePayload(PacketSerializer $in) : void{\r\n         };\r\n       }\r\n     }\r\n+\t\tif($this->hasFlag(PlayerAuthInputFlags::IN_CLIENT_PREDICTED_VEHICLE)){\r\n+\t\t\t$this->clientPredictedVehicleActorUniqueId = $in->getActorUniqueId();\r\n+\t\t}\r\n     $this->analogMoveVecX = $in->getLFloat();\r\n     $this->analogMoveVecZ = $in->getLFloat();\r\n   }\r\n@@ -274,6 +285,9 @@ function encodePayload(PacketSerializer $out) : void{\r\n         $blockAction->write($out);\r\n       }\r\n     }\r\n+\t\tif($this->clientPredictedVehicleActorUniqueId !== null){\r\n+\t\t\t$out->putActorUniqueId($this->clientPredictedVehicleActorUniqueId);\r\n+\t\t}\r\n     $out->putLFloat($this->analogMoveVecX);\r\n     $out->putLFloat($this->analogMoveVecZ);\r\n   }\r\ndiff --git a/src/PlayerListPacket.php b/src/PlayerListPacket.php\r\nindex 4512e1ad..b622aa7e 100644\r\n--- a/src/PlayerListPacket.php\r\n+++ b/src/PlayerListPacket.php\r\n@@ -69,6 +69,7 @@ function decodePayload(PacketSerializer $in) : void{\r\n         $entry->skinData = $in->getSkin();\r\n         $entry->isTeacher = $in->getBool();\r\n         $entry->isHost = $in->getBool();\r\n+\t\t\t\t$entry->isSubClient = $in->getBool();\r\n       }else{\r\n         $entry->uuid = $in->getUUID();\r\n       }\r\n@@ -96,6 +97,7 @@ function encodePayload(PacketSerializer $out) : void{\r\n         $out->putSkin($entry->skinData);\r\n         $out->putBool($entry->isTeacher);\r\n         $out->putBool($entry->isHost);\r\n+\t\t\t\t$out->putBool($entry->isSubClient);\r\n       }else{\r\n         $out->putUUID($entry->uuid);\r\n       }\r\ndiff --git a/src/ProtocolInfo.php b/src/ProtocolInfo.php\r\nindex a62d1bfc..a622420e 100644\r\n--- a/src/ProtocolInfo.php\r\n+++ b/src/ProtocolInfo.php\r\n@@ -32,11 +32,11 @@ function __construct(){\r\n    */\r\n-\tconst CURRENT_PROTOCOL = 630;\r\n+\tconst CURRENT_PROTOCOL = 649;\r\n-\tconst MINECRAFT_VERSION = 'v1.20.50';\r\n+\tconst MINECRAFT_VERSION = 'v1.20.60';\r\n-\tconst MINECRAFT_VERSION_NETWORK = '1.20.50';\r\n+\tconst MINECRAFT_VERSION_NETWORK = '1.20.60';\r\n   const LOGIN_PACKET = 0x01;\r\n   const PLAY_STATUS_PACKET = 0x02;\r\n@@ -53,7 +53,7 @@ function __construct(){\r\n   const ADD_ACTOR_PACKET = 0x0d;\r\n   const REMOVE_ACTOR_PACKET = 0x0e;\r\n   const ADD_ITEM_ACTOR_PACKET = 0x0f;\r\n+\tconst SERVER_PLAYER_POST_MOVE_POSITION_PACKET = 0x10;\r\n   const TAKE_ITEM_ACTOR_PACKET = 0x11;\r\n   const MOVE_ACTOR_ABSOLUTE_PACKET = 0x12;\r\n   const MOVE_PLAYER_PACKET = 0x13;\r\n@@ -163,8 +163,6 @@ function __construct(){\r\n   const LEVEL_EVENT_GENERIC_PACKET = 0x7c;\r\n   const LECTERN_UPDATE_PACKET = 0x7d;\r\n-\tconst ADD_ENTITY_PACKET = 0x7f;\r\n-\tconst REMOVE_ENTITY_PACKET = 0x80;\r\n   const CLIENT_CACHE_STATUS_PACKET = 0x81;\r\n   const ON_SCREEN_TEXTURE_ANIMATION_PACKET = 0x82;\r\n   const MAP_CREATE_LOCKED_COPY_PACKET = 0x83;\r\n@@ -245,5 +243,6 @@ function __construct(){\r\n   const REFRESH_ENTITLEMENTS_PACKET = 0x131;\r\n   const PLAYER_TOGGLE_CRAFTER_SLOT_REQUEST_PACKET = 0x132;\r\n   const SET_PLAYER_INVENTORY_OPTIONS_PACKET = 0x133;\r\n+\tconst SET_HUD_PACKET = 0x134;\r\n }\r\ndiff --git a/src/RemoveEntityPacket.php b/src/RemoveEntityPacket.php\r\ndeleted file mode 100644\r\nindex 184ba473..00000000\r\n--- a/src/RemoveEntityPacket.php\r\n+++ /dev/null\r\n@@ -1,48 +0,0 @@\r\n-<?php\r\n-namespace pocketmine\\network\\mcpe\\protocol;\r\n-use pocketmine\\network\\mcpe\\protocol\\serializer\\PacketSerializer;\r\n-class RemoveEntityPacket extends DataPacket implements ClientboundPacket{\r\n-\tconst NETWORK_ID = ProtocolInfo::REMOVE_ENTITY_PACKET;\r\n-\tint $entityNetId;\r\n-\tstatic function create(int $entityNetId) : self{\r\n-\t\t$result = new self;\r\n-\t\t$result->entityNetId = $entityNetId;\r\n-\t\treturn $result;\r\n-\t}\r\n-\tfunction getEntityNetId() : int{\r\n-\t\treturn $this->entityNetId;\r\n-\t}\r\n-\tfunction decodePayload(PacketSerializer $in) : void{\r\n-\t\t$this->entityNetId = $in->getUnsignedVarInt();\r\n-\t}\r\n-\tfunction encodePayload(PacketSerializer $out) : void{\r\n-\t\t$out->putUnsignedVarInt($this->entityNetId);\r\n-\t}\r\n-\tfunction handle(PacketHandlerInterface $handler) : bool{\r\n-\t\treturn $handler->handleRemoveEntity($this);\r\n-\t}\r\n-}\r\ndiff --git a/src/AddEntityPacket.php b/src/ServerPlayerPostMovePositionPacket.php\r\nsimilarity index 61%\r\nrename from src/AddEntityPacket.php\r\nrename to src/ServerPlayerPostMovePositionPacket.php\r\nindex c48635b3..103e6c6f 100644\r\n--- a/src/AddEntityPacket.php\r\n+++ b/src/ServerPlayerPostMovePositionPacket.php\r\n@@ -14,35 +14,34 @@\r\n namespace pocketmine\\network\\mcpe\\protocol;\r\n+use pocketmine\\math\\Vector3;\r\n use pocketmine\\network\\mcpe\\protocol\\serializer\\PacketSerializer;\r\n-class AddEntityPacket extends DataPacket implements ClientboundPacket{\r\n-\tconst NETWORK_ID = ProtocolInfo::ADD_ENTITY_PACKET;\r\n+class ServerPlayerPostMovePositionPacket extends DataPacket implements ClientboundPacket{\r\n+\tconst NETWORK_ID = ProtocolInfo::SERVER_PLAYER_POST_MOVE_POSITION_PACKET;\r\n-\tint $entityNetId;\r\n+\tVector3 $position;\r\n-\tstatic function create(int $entityNetId) : self{\r\n+\tstatic function create(Vector3 $position) : self{\r\n     $result = new self;\r\n-\t\t$result->entityNetId = $entityNetId;\r\n+\t\t$result->position = $position;\r\n     return $result;\r\n   }\r\n-\tfunction getEntityNetId() : int{\r\n-\t\treturn $this->entityNetId;\r\n-\t}\r\n+\tfunction getPosition() : Vector3{ return $this->position; }\r\n   function decodePayload(PacketSerializer $in) : void{\r\n-\t\t$this->entityNetId = $in->getUnsignedVarInt();\r\n+\t\t$this->position = $in->getVector3();\r\n   }\r\n   function encodePayload(PacketSerializer $out) : void{\r\n-\t\t$out->putUnsignedVarInt($this->entityNetId);\r\n+\t\t$out->putVector3($this->position);\r\n   }\r\n   function handle(PacketHandlerInterface $handler) : bool{\r\n-\t\treturn $handler->handleAddEntity($this);\r\n+\t\treturn $handler->handleServerPlayerPostMovePosition($this);\r\n   }\r\n }\r\ndiff --git a/src/SetHudPacket.php b/src/SetHudPacket.php\r\nnew file mode 100644\r\nindex 00000000..3fa78f66\r\n--- /dev/null\r\n+++ b/src/SetHudPacket.php\r\n@@ -0,0 +1,64 @@\r\n+<?php\r\n+namespace pocketmine\\network\\mcpe\\protocol;\r\n+use pocketmine\\network\\mcpe\\protocol\\serializer\\PacketSerializer;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\hud\\HudElement;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\hud\\HudVisibility;\r\n+use function count;\r\n+class SetHudPacket extends DataPacket implements ClientboundPacket{\r\n+\tconst NETWORK_ID = ProtocolInfo::SET_HUD_PACKET;\r\n+\tarray $hudElements = [];\r\n+\tHudVisibility $visibility;\r\n+\tstatic function create(array $hudElements, HudVisibility $visibility) : self{\r\n+\t\t$result = new self;\r\n+\t\t$result->hudElements = $hudElements;\r\n+\t\t$result->visibility = $visibility;\r\n+\t\treturn $result;\r\n+\t}\r\n+\tfunction getHudElements() : array{ return $this->hudElements; }\r\n+\tfunction getVisibility() : HudVisibility{ return $this->visibility; }\r\n+\tfunction decodePayload(PacketSerializer $in) : void{\r\n+\t\t$this->hudElements = [];\r\n+\t\tfor($i = 0, $count = $in->getUnsignedVarInt(); $i < $count; ++$i){\r\n+\t\t\t$this->hudElements[] = HudElement::fromPacket($in->getByte());\r\n+\t\t}\r\n+\t\t$this->visibility = HudVisibility::fromPacket($in->getByte());\r\n+\t}\r\n+\tfunction encodePayload(PacketSerializer $out) : void{\r\n+\t\t$out->putUnsignedVarInt(count($this->hudElements));\r\n+\t\tforeach($this->hudElements as $element){\r\n+\t\t\t$out->putByte($element->value);\r\n+\t\t}\r\n+\t\t$out->putByte($this->visibility->value);\r\n+\t}\r\n+\tfunction handle(PacketHandlerInterface $handler) : bool{\r\n+\t\treturn $handler->handleSetHud($this);\r\n+\t}\r\n+}\r\ndiff --git a/src/types/CompressionAlgorithm.php b/src/types/CompressionAlgorithm.php\r\nindex 08a02deb..55a1655a 100644\r\n--- a/src/types/CompressionAlgorithm.php\r\n+++ b/src/types/CompressionAlgorithm.php\r\n@@ -25,4 +25,6 @@ function __construct(){\r\n   const ZLIB = 0;\r\n   const SNAPPY = 1;\r\n+\tconst NONE = 255;\r\n }\r\ndiff --git a/src/types/LevelEvent.php b/src/types/LevelEvent.php\r\nindex d98e6982..023c57d6 100644\r\n--- a/src/types/LevelEvent.php\r\n+++ b/src/types/LevelEvent.php\r\n@@ -138,6 +138,10 @@ function __construct(){\r\n   const PARTICLE_PUNCH_BLOCK_WEST = 3607;\r\n   const PARTICLE_PUNCH_BLOCK_EAST = 3608;\r\n   const PARTICLE_SHOOT_WHITE_SMOKE = 3609;\r\n+\tconst PARTICLE_WIND_EXPLOSION = 3610;\r\n+\tconst PARTICLE_TRIAL_SPAWNER_DETECTION = 3611;\r\n+\tconst PARTICLE_TRIAL_SPAWNER_SPAWNING = 3612;\r\n+\tconst PARTICLE_TRIAL_SPAWNER_EJECTING = 3613;\r\n   const SET_DATA = 4000;\r\ndiff --git a/src/types/ParticleIds.php b/src/types/ParticleIds.php\r\nindex 1e272813..5eb6a6df 100644\r\n--- a/src/types/ParticleIds.php\r\n+++ b/src/types/ParticleIds.php\r\n@@ -36,75 +36,76 @@ function __construct(){\r\n   const SNOWBALL_POOF = 15;\r\n   const HUGE_EXPLODE = 16;\r\n   const HUGE_EXPLODE_SEED = 17;\r\n-\tconst MOB_FLAME = 18;\r\n-\tconst HEART = 19;\r\n-\tconst TERRAIN = 20;\r\n-\tconst SUSPENDED_TOWN = 21, TOWN_AURA = 21;\r\n-\tconst PORTAL = 22;\r\n-\t//23 same as 22\r\n-\tconst SPLASH = 24, WATER_SPLASH = 24;\r\n-\tconst WATER_SPLASH_MANUAL = 25;\r\n-\tconst WATER_WAKE = 26;\r\n-\tconst DRIP_WATER = 27;\r\n-\tconst DRIP_LAVA = 28;\r\n-\tconst DRIP_HONEY = 29;\r\n-\tconst STALACTITE_DRIP_WATER = 30;\r\n-\tconst STALACTITE_DRIP_LAVA = 31;\r\n-\tconst FALLING_DUST = 32, DUST = 32;\r\n-\tconst MOB_SPELL = 33;\r\n-\tconst MOB_SPELL_AMBIENT = 34;\r\n-\tconst MOB_SPELL_INSTANTANEOUS = 35;\r\n-\tconst INK = 36;\r\n-\tconst SLIME = 37;\r\n-\tconst RAIN_SPLASH = 38;\r\n-\tconst VILLAGER_ANGRY = 39;\r\n-\tconst VILLAGER_HAPPY = 40;\r\n-\tconst ENCHANTMENT_TABLE = 41;\r\n-\tconst TRACKING_EMITTER = 42;\r\n-\tconst NOTE = 43;\r\n-\tconst WITCH_SPELL = 44;\r\n-\tconst CARROT = 45;\r\n-\tconst MOB_APPEARANCE = 46;\r\n-\tconst END_ROD = 47;\r\n-\tconst DRAGONS_BREATH = 48;\r\n-\tconst SPIT = 49;\r\n-\tconst TOTEM = 50;\r\n-\tconst FOOD = 51;\r\n-\tconst FIREWORKS_STARTER = 52;\r\n-\tconst FIREWORKS_SPARK = 53;\r\n-\tconst FIREWORKS_OVERLAY = 54;\r\n-\tconst BALLOON_GAS = 55;\r\n-\tconst COLORED_FLAME = 56;\r\n-\tconst SPARKLER = 57;\r\n-\tconst CONDUIT = 58;\r\n-\tconst BUBBLE_COLUMN_UP = 59;\r\n-\tconst BUBBLE_COLUMN_DOWN = 60;\r\n-\tconst SNEEZE = 61;\r\n-\tconst SHULKER_BULLET = 62;\r\n-\tconst BLEACH = 63;\r\n-\tconst DRAGON_DESTROY_BLOCK = 64;\r\n-\tconst MYCELIUM_DUST = 65;\r\n-\tconst FALLING_RED_DUST = 66;\r\n-\tconst CAMPFIRE_SMOKE = 67;\r\n-\tconst TALL_CAMPFIRE_SMOKE = 68;\r\n-\tconst DRAGON_BREATH_FIRE = 69;\r\n-\tconst DRAGON_BREATH_TRAIL = 70;\r\n-\tconst BLUE_FLAME = 71;\r\n-\tconst SOUL = 72;\r\n-\tconst OBSIDIAN_TEAR = 73;\r\n-\tconst PORTAL_REVERSE = 74;\r\n-\tconst SNOWFLAKE = 75;\r\n-\tconst VIBRATION_SIGNAL = 76;\r\n-\tconst SCULK_SENSOR_REDSTONE = 77;\r\n-\tconst SPORE_BLOSSOM_SHOWER = 78;\r\n-\tconst SPORE_BLOSSOM_AMBIENT = 79;\r\n-\tconst WAX = 80;\r\n-\tconst ELECTRIC_SPARK = 81;\r\n-\tconst SHRIEK = 82;\r\n-\tconst SCULK_SOUL = 83;\r\n-\tconst SONIC_EXPLOSION = 84;\r\n-\tconst BRUSH_DUST = 85;\r\n-\tconst CHERRY_LEAVES = 86;\r\n-\tconst DUST_PLUME = 87;\r\n-\tconst WHITE_SMOKE = 88;\r\n+\tconst WIND_EXPLOSION = 18;\r\n+\tconst MOB_FLAME = 19;\r\n+\tconst HEART = 20;\r\n+\tconst TERRAIN = 21;\r\n+\tconst SUSPENDED_TOWN = 22, TOWN_AURA = 22;\r\n+\tconst PORTAL = 23;\r\n+\t//24 same as 23\r\n+\tconst SPLASH = 25, WATER_SPLASH = 25;\r\n+\tconst WATER_SPLASH_MANUAL = 26;\r\n+\tconst WATER_WAKE = 27;\r\n+\tconst DRIP_WATER = 28;\r\n+\tconst DRIP_LAVA = 29;\r\n+\tconst DRIP_HONEY = 30;\r\n+\tconst STALACTITE_DRIP_WATER = 31;\r\n+\tconst STALACTITE_DRIP_LAVA = 32;\r\n+\tconst FALLING_DUST = 33, DUST = 33;\r\n+\tconst MOB_SPELL = 34;\r\n+\tconst MOB_SPELL_AMBIENT = 35;\r\n+\tconst MOB_SPELL_INSTANTANEOUS = 36;\r\n+\tconst INK = 37;\r\n+\tconst SLIME = 38;\r\n+\tconst RAIN_SPLASH = 39;\r\n+\tconst VILLAGER_ANGRY = 40;\r\n+\tconst VILLAGER_HAPPY = 41;\r\n+\tconst ENCHANTMENT_TABLE = 42;\r\n+\tconst TRACKING_EMITTER = 43;\r\n+\tconst NOTE = 44;\r\n+\tconst WITCH_SPELL = 45;\r\n+\tconst CARROT = 46;\r\n+\tconst MOB_APPEARANCE = 47;\r\n+\tconst END_ROD = 48;\r\n+\tconst DRAGONS_BREATH = 49;\r\n+\tconst SPIT = 50;\r\n+\tconst TOTEM = 51;\r\n+\tconst FOOD = 52;\r\n+\tconst FIREWORKS_STARTER = 53;\r\n+\tconst FIREWORKS_SPARK = 54;\r\n+\tconst FIREWORKS_OVERLAY = 55;\r\n+\tconst BALLOON_GAS = 56;\r\n+\tconst COLORED_FLAME = 57;\r\n+\tconst SPARKLER = 58;\r\n+\tconst CONDUIT = 59;\r\n+\tconst BUBBLE_COLUMN_UP = 60;\r\n+\tconst BUBBLE_COLUMN_DOWN = 61;\r\n+\tconst SNEEZE = 62;\r\n+\tconst SHULKER_BULLET = 63;\r\n+\tconst BLEACH = 64;\r\n+\tconst DRAGON_DESTROY_BLOCK = 65;\r\n+\tconst MYCELIUM_DUST = 66;\r\n+\tconst FALLING_RED_DUST = 67;\r\n+\tconst CAMPFIRE_SMOKE = 68;\r\n+\tconst TALL_CAMPFIRE_SMOKE = 69;\r\n+\tconst DRAGON_BREATH_FIRE = 70;\r\n+\tconst DRAGON_BREATH_TRAIL = 71;\r\n+\tconst BLUE_FLAME = 72;\r\n+\tconst SOUL = 73;\r\n+\tconst OBSIDIAN_TEAR = 74;\r\n+\tconst PORTAL_REVERSE = 75;\r\n+\tconst SNOWFLAKE = 76;\r\n+\tconst VIBRATION_SIGNAL = 77;\r\n+\tconst SCULK_SENSOR_REDSTONE = 78;\r\n+\tconst SPORE_BLOSSOM_SHOWER = 79;\r\n+\tconst SPORE_BLOSSOM_AMBIENT = 80;\r\n+\tconst WAX = 81;\r\n+\tconst ELECTRIC_SPARK = 82;\r\n+\tconst SHRIEK = 83;\r\n+\tconst SCULK_SOUL = 84;\r\n+\tconst SONIC_EXPLOSION = 85;\r\n+\tconst BRUSH_DUST = 86;\r\n+\tconst CHERRY_LEAVES = 87;\r\n+\tconst DUST_PLUME = 88;\r\n+\tconst WHITE_SMOKE = 89;\r\n }\r\ndiff --git a/src/types/PlayerAuthInputFlags.php b/src/types/PlayerAuthInputFlags.php\r\nindex b7fc2dd7..7c46aee6 100644\r\n--- a/src/types/PlayerAuthInputFlags.php\r\n+++ b/src/types/PlayerAuthInputFlags.php\r\n@@ -98,5 +98,6 @@ class PlayerAuthInputFlags{\r\n   const START_FLYING = 42;\r\n   const STOP_FLYING = 43;\r\n   const ACK_ACTOR_DATA = 44;\r\n+\tconst IN_CLIENT_PREDICTED_VEHICLE = 45;\r\n }\r\ndiff --git a/src/types/PlayerListEntry.php b/src/types/PlayerListEntry.php\r\nindex b697327c..18070db9 100644\r\n--- a/src/types/PlayerListEntry.php\r\n+++ b/src/types/PlayerListEntry.php\r\n@@ -28,6 +28,7 @@ class PlayerListEntry{\r\n   int $buildPlatform = DeviceOS::UNKNOWN;\r\n   bool $isTeacher = false;\r\n   bool $isHost = false;\r\n+\tbool $isSubClient = false;\r\n   static function createRemovalEntry(UuidInterface $uuid) : PlayerListEntry{\r\n     $entry = new PlayerListEntry();\r\n@@ -36,7 +37,18 @@ static function createRemovalEntry(UuidInterface $uuid) : PlayerListEntry\r\n     return $entry;\r\n   }\r\n-\tstatic function createAdditionEntry(UuidInterface $uuid, int $actorUniqueId, string $username, SkinData $skinData, string $xboxUserId = \"\", string $platformChatId = \"\", int $buildPlatform = -1, bool $isTeacher = false, bool $isHost = false) : PlayerListEntry{\r\n+\tstatic function createAdditionEntry(\r\n+\t\tUuidInterface $uuid,\r\n+\t\tint $actorUniqueId,\r\n+\t\tstring $username,\r\n+\t\tSkinData $skinData,\r\n+\t\tstring $xboxUserId = \"\",\r\n+\t\tstring $platformChatId = \"\",\r\n+\t\tint $buildPlatform = -1,\r\n+\t\tbool $isTeacher = false,\r\n+\t\tbool $isHost = false,\r\n+\t\tbool $isSubClient = false\r\n+\t) : PlayerListEntry{\r\n     $entry = new PlayerListEntry();\r\n     $entry->uuid = $uuid;\r\n     $entry->actorUniqueId = $actorUniqueId;\r\n@@ -47,6 +59,7 @@ static function createAdditionEntry(UuidInterface $uuid, int $actorUnique\r\n     $entry->buildPlatform = $buildPlatform;\r\n     $entry->isTeacher = $isTeacher;\r\n     $entry->isHost = $isHost;\r\n+\t\t$entry->isSubClient = $isSubClient;\r\n     return $entry;\r\n   }\r\ndiff --git a/src/types/hud/HudElement.php b/src/types/hud/HudElement.php\r\nnew file mode 100644\r\nindex 00000000..3a25af83\r\n--- /dev/null\r\n+++ b/src/types/hud/HudElement.php\r\n@@ -0,0 +1,33 @@\r\n+<?php\r\n+namespace pocketmine\\network\\mcpe\\protocol\\types\\hud;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\PacketIntEnumTrait;\r\n+enum HudElement : int{\r\n+\tuse PacketIntEnumTrait;\r\n+\tcase PAPER_DOLL = 0;\r\n+\tcase ARMOR = 1;\r\n+\tcase TOOLTIPS = 2;\r\n+\tcase TOUCH_CONTROLS = 3;\r\n+\tcase CROSSHAIR = 4;\r\n+\tcase HOTBAR = 5;\r\n+\tcase HEALTH = 6;\r\n+\tcase XP = 7;\r\n+\tcase FOOD = 8;\r\n+\tcase AIR_BUBBLES = 9;\r\n+\tcase HORSE_HEALTH = 10;\r\n+}\r\ndiff --git a/src/types/hud/HudVisibility.php b/src/types/hud/HudVisibility.php\r\nnew file mode 100644\r\nindex 00000000..b7f946c4\r\n--- /dev/null\r\n+++ b/src/types/hud/HudVisibility.php\r\n@@ -0,0 +1,24 @@\r\n+<?php\r\n+namespace pocketmine\\network\\mcpe\\protocol\\types\\hud;\r\n+use pocketmine\\network\\mcpe\\protocol\\types\\PacketIntEnumTrait;\r\n+enum HudVisibility : int{\r\n+\tuse PacketIntEnumTrait;\r\n+\tcase HIDE = 0;\r\n+\tcase RESET = 1;\r\n+}\r\n```"};
    const outputs = data.outputs;
    if ($psys) $psys.textContent = data.system;
    if ($pusr) $pusr.textContent = data.user;
    for (const [modelName, modelId] of data.models) {
      const $presp = document.getElementById('presp' + modelId);
      if ($presp) $presp.textContent = outputs[modelId];
    }
</script>
</body>
</html>
  
